license apache software foundation asf one contributor license agreement notice file distribute work additional information copyright ownership asf license file apache license version the license use file compliance license obtain copy license at http www apache org license license require applicable law agree write software distribute license distribute an basi warranty conditions any kind express imply license the specific language govern permission limitations license npackage org apache syncope core provision java jexl nimport java beans introspection exception nimport java beans introspector nimport java beans property descriptor nimport java lang reflect field nimport java util collection nimport java util collection nimport java util date nimport java util hash map nimport java util hash set nimport java util list nimport java util map nimport java util set nimport org apache commons jexl3 jexl builder nimport org apache commons jexl3 jexl context nimport org apache commons jexl3 jexl engine nimport org apache commons jexl3 jexl exception nimport org apache commons jexl3 jexl expression nimport org apache commons jexl3 jxlt engine nimport org apache commons jexl3 map context nimport org apache commons lang3 array utils nimport org apache commons lang3 stre utils nimport org apache syncope common lib to any to nimport org apache syncope common lib to attr to nimport org apache syncope common lib to realm to nimport org apache syncope core spring application context provider nimport org apache syncope core provision api util format utils nimport org apache syncope core persistence api entity any nimport org apache syncope core persistence api entity der schema nimport org apache syncope core persistence api entity plain attr nimport org apache syncope core persistence api entity realm nimport org apache syncope core provision api der attr handler nimport org slf4j logger nimport org slf4j logger factory jexl href http common apache org jexl reference index html reference available npublic jexl utils logger log logger factory get logger jexl utils class password clear password serial version uid map set property descriptor collection class set property descriptor synchronize map hash map set property descriptor jexl engine engine jexl engine get engine log jexl builder uberspect new sandbox uberspect loader new empty class loader namespace collections string singleton map syncope syncope jexl function cache 512 silent false strict false create engine jxlt engine new jxlt engine get engine create jxlt engine false be expression valid final expression result get engine create expression expression result true jexl exception log error invalid jexl expression expression result false result evaluate final expression jexl context jexl context result string util empty string utils be not blank expression jexl context jexl expression jexl expression get engine create expression expression evaluate jexl expression evaluate jexl context evaluate result evaluate to string exception log error error evaluate jexl expression expression log debug expression provide invalid context result add field to context final jexl context jexl context set property descriptor cache cache get object get class cache cached hash set cache put object get class cache property descriptor desc introspector get bean info object get class get property descriptor desc get name start with pc array util contain ignore desc get name iterable class be assignable from desc get property type desc get property type be array cached add desc introspection exception ie log error reading attribute error ie property descriptor desc cached field name desc get name field type desc get property type field value desc get read method field field object get class get declare field field name field set accessible true field value field get object field value desc get read method invoke object field value field value null string util empty field type equal date class format util format date field value false field value jexl context set field name field value log debug add field value field name field value exception iae log error reading value error field name iae object get realm jexl context set realm object get realm get full path any to any to object get realm jexl context set realm any to object get realm realm jexl context set full path realm object get full path realm to jexl context set full path realm to object get full path add attr os to context final collection attr to attrs jexl context jexl context attr to attr attrs attr get schema value attr get value be empty string util empty attr get value size attr get value get attr get value log debug add attribute value attr get schema value jexl context set attr get schema value add plain attrs to context collection plain attr attrs jexl context jexl context plain attr attr attrs attr get schema list attr value attr get value as strings value attr value be empty string util empty attr value size attr value get attr value log debug add attribute value attr get schema get key value jexl context set attr get schema get key value add der attrs to context final jexl context jexl context map der schema der attrs application context provider get bean factory get bean der attr handler class get value any map entry der schema entry der attrs entry set jexl context set entry get key get key entry get value evaluate mandatory condition final mandatory condition jexl context jexl context map context add plain attrs to context any get plain attrs jexl context add der attrs to context any jexl context boolean parse boolean evaluate mandatory condition jexl context constructor class jexl utils